<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">Analysis</h1>
    </div>
    <!-- /.col-lg-12 -->
</div>
<div class="row">
    <div class="col-lg-12">
        <form class="form-inline" role="form">
	        <div class="form-group">
		        <label>Patient:</label>
	            <select class="form-control" placeholder="User" id="id" name="id">
					  {{ID:dropdown-patients}}
				</select>
	        </div>
	        <div class="form-group">
		        <label>Question:</label>
	            <select class="form-control" placeholder="Question" id="question" name="question">
					  {{ID:dropdown-questions}}
				</select>
	        </div>

        &nbsp;
        <button type="submit" class="btn btn-success" id="submit">Update</button>&nbsp; <input id="reset" type="reset" value="Reset" class="btn btn-default">
    </form>
    </div>
    <!-- /.col-lg-12 -->
</div>
<!-- /.row -->
<div class="row">
    {{ID:questions}}        
</div><!-- /.row -->



{{ID:baseline_result}}


<script>
	
$(function() {
	
	$( "#reset" ).click(function() {
		$('select option:selected').removeAttr('selected');
		$('#submit').click();
	});
	
	
		
});
	
// Morris Bar Chart
$(function() {
	
	function getUrlVars()
		{
		    var vars = [], hash;
		    var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
		    for(var i = 0; i < hashes.length; i++)
		    {
		        hash = hashes[i].split('=');
		        vars.push(hash[0]);
		        vars[hash[0]] = hash[1];
		    }
		    return vars;
		}
	
	// Only run if there's an ID 
	
	var id= getUrlVars()["id"];
	
	if ( id != '') {

	    Morris.Bar({
	        element: 'morris-bar-chart',
	        data: [
	        {
	            y: 'Baseline',
	            a: 10
	        }, {
		        y: '2/3/2015',
		        a: 8
	        }, {
	            y: '2/10/2015',
	            //a: ,
	            a: 9
	        }, {
		       y: '2/17/2015',
	            //a: ,
	            a: 0 
	        }, {
	            y: '2/24/2015',
	            //a: ,
	            a: 1
	        }
	        ],
	        xkey: 'y',
	        xLabelAngle: 45,
	        //ykeys: ['a'],
	        ykeys: ['a'],
	        ymax: 10,
	        //labels: ['Baseline', 'Follow Up'],
	        barColors: ['#f0ad4e'],
	        hideHover: 'auto',
	        resize: true
	    });
	
	}

});
	

// SVG STUFF
$("rect[height='0']").attr('height', 500);
$('svg > rect').attr('width', "10");
</script>
<style>
	svg > rect:first-of-type {
	    fill: #337ab7;
	}
</style>